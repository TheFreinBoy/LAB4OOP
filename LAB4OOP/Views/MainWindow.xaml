<Window x:Class="LAB4OOP.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:local="clr-namespace:LAB4OOP.Views"
        mc:Ignorable="d"
        Title="MainWindow" Height="650" Width="1100">
    <Window.Resources>
        <!-- Карточковий стиль для обгорток -->
        <Style x:Key="CardStyle" TargetType="Border">
            <Setter Property="CornerRadius" Value="25" />
            <Setter Property="Background" Value="White" />
            <Setter Property="Padding" Value="15" />
            <Setter Property="Margin" Value="10" />
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="Black" BlurRadius="20" ShadowDepth="0" />
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Стилі для DataGrid -->
        <Style x:Key="StyledDataGrid" TargetType="DataGrid">
            <Setter Property="RowBackground" Value="#ffffff" />
            <Setter Property="AlternatingRowBackground" Value="#f5f5f5" />
            <Setter Property="FontSize" Value="20" />
            <Setter Property="GridLinesVisibility" Value="Vertical" />
            <Setter Property="HeadersVisibility" Value="Column" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="VerticalGridLinesBrush" Value="Black" />
            <Setter Property="HorizontalGridLinesBrush" Value="Transparent" />
        </Style>

        <!-- Стиль заголовків колонок -->
        <Style x:Key="StyledHeader" TargetType="DataGridColumnHeader">
            <Setter Property="Background" Value="#7ba2ad" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="FontWeight" Value="SemiBold" />
            <Setter Property="HorizontalContentAlignment" Value="Center" />
            <Setter Property="BorderBrush" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Height" Value="40"/>
        </Style>

        <Style x:Key="DataGridCellBaseStyle" TargetType="DataGridCell">
            <Setter Property="Padding" Value="6" />
            <Setter Property="BorderBrush" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0,0,0,1" />
        </Style>


        <!-- Стиль для клітинок: розділювач між стовпцями -->
        <Style x:Key="DataGridCellSeparatorStyle" TargetType="DataGridCell">
            <Setter Property="Padding" Value="5" />
            <Setter Property="BorderBrush" Value="Black" />
            <Setter Property="BorderThickness" Value="0,0,0,1" />
        </Style>

        <!-- Стиль для виділеного та наведення на рядок -->
        <Style TargetType="DataGridRow">
            <Setter Property="FontSize" Value="16" />
            <Style.Triggers>
                <Trigger Property="IsSelected" Value="True">
                    <Setter Property="Background" Value="#bbdefb" />
                </Trigger>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#e3f2fd" />
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- Стиль для кнопок -->
        <Style x:Key="PrimaryButton" TargetType="Button">
            <Setter Property="FontSize" Value="14" />
            <Setter Property="Padding" Value="8,4" />
            <Setter Property="Margin" Value="5" />
            <Setter Property="Foreground" Value="Black" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}"
                                CornerRadius="4"
                                SnapsToDevicePixels="True">
                            <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center"
                                              Content="{TemplateBinding Content}" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Opacity" Value="0.8" />
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="RenderTransform">
                                    <Setter.Value>
                                        <ScaleTransform ScaleX="0.98" ScaleY="0.98" />
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.Background>
            <LinearGradientBrush StartPoint="0.1,0" EndPoint="0.9,1">
                <GradientStop Color="#e3fff6" Offset="0"/>
                <GradientStop Color="White" Offset="1"/>
            </LinearGradientBrush>
        </Grid.Background>
        <Grid.RowDefinitions>
            <RowDefinition />
            <RowDefinition Height="6.5*" />
            <RowDefinition Height="1.1*" />
        </Grid.RowDefinitions>

        <TextBlock Grid.Row="0"
                   Text="Da"
                   FontSize="28"
                   FontWeight="Bold"
                   Foreground="#333"
                   HorizontalAlignment="Center"
                   Margin="0,20,0,20" />

        <Border Grid.Row="1" Style="{StaticResource CardStyle}">
            <Border.Background>
                <LinearGradientBrush StartPoint="0.1,0.1" EndPoint="0.9,1">
                    <GradientStop Color="#c7ffed" Offset="0"/>
                    <GradientStop Color="#c7e8ff" Offset="1"/>
                </LinearGradientBrush>
            </Border.Background>
            <DataGrid x:Name="OrdersGrid"
                      CellStyle="{StaticResource DataGridCellSeparatorStyle}"
                      ColumnHeaderStyle="{StaticResource StyledHeader}"
                      ItemsSource="{Binding Orders}"
                      AutoGenerateColumns="False"
                      IsReadOnly="True"
                      CanUserAddRows="False"                     
                      Style="{StaticResource StyledDataGrid}">
                <DataGrid.Background>
                    <LinearGradientBrush StartPoint="0.1,0.1" EndPoint="0.9,1">
                        <GradientStop Color="#c7ffed" Offset="0"/>
                        <GradientStop Color="#c7e8ff" Offset="1"/>
                    </LinearGradientBrush>
                </DataGrid.Background>
                <!--SelectionChanged="OrdersGrid_SelectionChanged"-->
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Прізвище, Ім’я" Binding="{Binding FullName}" Width="200"/>
                    <DataGridTextColumn Header="Дата народження" Binding="{Binding Person.BirthDate, StringFormat=d}" Width="180"/>
                    <DataGridTextColumn Header="Освітній рівень" Binding="{Binding EducationLevel}" Width="170"/>
                    <DataGridTextColumn Header="Іспит" Binding="{Binding ExamName}" Width="120"/>
                    <DataGridTextColumn Header="Оцінка" Binding="{Binding ExamScore}" Width="90"/>
                    <DataGridTextColumn Header="Дата іспиту" Binding="{Binding ExamDate, StringFormat=d}" Width="130"/>
                    <DataGridTextColumn Header="Середній бал" Binding="{Binding AverageScore}" Width="150"/>
                </DataGrid.Columns>
            </DataGrid>
        </Border>

        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="15,10">
            <Button x:Name="AddButton" Content="Додати" Width="120" Style="{StaticResource MaterialDesignFlatButton}" Background="#00ffaa" BorderBrush="#00ffaa"
                    Height="45" materialDesign:ButtonAssist.CornerRadius="15" Foreground="Black" FontSize="16" Click="Add_Click"/>
            <Button x:Name="EditButton" Style="{StaticResource MaterialDesignFlatButton}" Background="#00ffaa" BorderBrush="#00ffaa" Foreground="Black"
                    Content="Редагувати" Width="120" IsEnabled="False" Height="45" materialDesign:ButtonAssist.CornerRadius="15" Margin="10 0 0 0" FontSize="16"/>
        </StackPanel>
    </Grid>
</Window>
